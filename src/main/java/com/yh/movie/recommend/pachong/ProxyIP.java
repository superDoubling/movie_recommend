package com.yh.movie.recommend.pachong;

import java.net.URL;
import java.io.IOException;
import java.net.HttpURLConnection;
import java.net.InetAddress;

public class ProxyIP {

	private static int count = 0;
	
	
		static String[] proxyPool = {
				"113.121.246.7",
				"61.135.217.7",
				"122.114.31.177",
				"123.55.90.13",
				"171.12.225.159",
				"222.41.154.226",
				"222.76.187.114",
				"113.121.243.133",
				"1.194.171.134",
				"125.118.78.175", //10
				"113.121.178.128",
				"36.49.82.213",
				"123.54.236.182",
				"49.83.26.187",
				"101.87.7.11",
				"42.96.168.79",
				"120.37.173.210",
				"114.229.35.44",
				"14.120.183.164",
				"115.213.144.11", //20
				"110.84.176.151",
				"180.212.140.219",
				"122.237.104.89",
				"125.77.80.164",
				"125.118.72.25",
				"120.92.88.202",
				"42.59.87.27",
				"111.155.124.84",
				"119.179.208.242",
				"110.72.19.74", //30
				"27.40.137.26",
				"183.23.74.78",
				"219.139.109.10",
				"121.31.176.105",
				"111.155.116.220",
				"114.228.238.60",
				"180.115.95.50",
				"49.79.194.179",
				"125.104.253.94",
				"125.118.76.144", //40
				"123.180.69.52",
				"180.122.146.132",
				"144.255.14.188",
				"106.122.170.61",
				"222.182.227.84",
				"182.88.179.223",
				"125.40.47.18",
				"27.153.128.137",
				"180.173.48.100",
				"183.23.73.234", //50
				"114.246.239.144",
				"121.237.58.64",
				"39.75.14.240",
				"121.231.149.162",
				"125.118.145.130",
				"125.104.242.62",
				"120.92.88.202",
				"42.59.99.229",
				"49.81.248.109",
				"117.95.83.242",//60
				"42.59.98.239",
				"183.23.75.36",
				"114.226.132.64",
				"115.46.74.153",
				"122.241.25.239",
				"115.46.74.153",
				"125.120.10.157",
				"117.92.79.194",
				"14.118.255.76",
				"123.101.110.198", //70
				"60.19.239.105",
				"113.121.245.16",
				"119.5.1.51",
				"182.99.253.62",
				"113.121.245.27",
				"221.234.251.107",
				"61.143.21.48",
				"180.115.92.76",
				"117.92.242.214",
				"114.214.162.136", //80
				"182.45.179.191",
				"115.237.14.25",
				"125.118.79.21",
				"117.63.8.107",
				"115.204.25.115",
				"110.189.207.68",
				"115.210.176.101",
				"182.45.176.77",
				"182.122.172.81",
				"114.230.120.193", //90
				"60.174.74.40",
				"36.26.107.111",
				"122.241.73.8",
				"171.39.30.110",
				"111.155.116.215",
				"122.241.74.211",
				"125.104.243.73",
				"222.185.132.132",
				"114.228.139.246",
				"115.204.28.128", //100
				"110.73.2.166",
				"110.73.40.159",
				"61.135.217.7",
				"122.114.31.177",
				"119.28.138.104",
				"144.0.81.95",
				"180.116.121.6",
				"111.155.116.245",
				"171.38.84.212",
				"39.82.250.113", //110
				"120.25.3.93",
				"49.83.30.25",
				"60.23.46.47",
				"175.148.73.177",
				"221.234.195.252",
				"27.201.252.236",
				"180.121.128.197",
				"113.121.42.205",
				"183.23.75.10",
				"114.230.41.31", //120
				"120.92.102.240",
				"42.96.168.79",
				"58.216.202.149",
				"144.255.161.198",
				"14.118.253.81",
				"14.118.253.81",
				"125.120.8.247",
				"125.121.114.119",
				"183.157.172.44",
				"60.184.172.103", //130
				"114.230.41.33",
				"153.35.45.112",
				"49.79.194.201",
				"171.113.158.136",
				"106.122.171.239",
				"171.37.169.120",
				"101.84.217.16",
				"110.72.47.71",
				"59.38.241.36",
				"182.202.220.50", //140
				"121.31.141.249",
				"49.79.194.158",
				"120.92.88.202",
				"119.179.208.136",
				"125.120.205.12",
				"113.121.246.221",
				"144.255.123.155",
				"222.220.165.12",
				"182.86.191.74",
				"49.81.254.184", //150
				"122.114.31.177",
				"61.135.217.7",
				"119.28.138.104",
				"223.203.0.14",
				"114.230.41.177",
				"112.228.134.75",
				"120.92.102.240",
				"122.237.16.175",
				"116.248.169.27",
				"171.211.53.151", //160
				"171.38.76.82",
				"144.255.122.52",
				"114.227.131.105",
				"221.229.18.221",
				"120.25.3.93",
				"42.96.168.79",
				"113.121.243.224",
				"220.191.14.131",
				"1.195.252.248",
				"124.113.7.96", //170
				"14.118.253.190",
				"111.155.116.216",
				"123.161.237.243",
				"115.58.130.107",
				"122.235.97.93",
				"125.121.120.64",
				"114.228.90.214",
				"124.91.186.203",
				"120.35.131.37",
				"175.8.61.138", //180
				"112.245.253.133",
				"171.80.82.2",
				"115.46.77.245",
				"114.230.41.107",
				"182.86.191.74",
				"14.118.252.186",
				"182.45.178.185",
				"125.118.79.237",
				"222.76.187.38",
				"115.46.70.189", //190
				"113.105.203.27",
				"121.31.100.176",
				"175.11.212.141",
				"222.182.53.254",
				"49.85.1.186",
				"125.120.10.232",
				"182.45.178.108",
				"60.23.46.47",
				"113.121.243.170",
				"121.237.143.21", //200
				"112.228.134.75",
				"106.122.170.46",
				"14.124.8.108",
				"123.135.157.202",
				"116.95.186.52",
				"112.81.25.145",
				"218.84.59.168",
				"110.154.160.239",
				"59.41.120.164",
				"171.94.202.61", //210
				"122.114.31.177",
				"61.135.217.7",
				"119.28.138.104",
				"120.92.102.240",
				"111.155.116.212",
				"182.202.222.107",
				"110.73.7.207",
				"115.58.130.107",
				"120.25.3.93",
				"113.121.240.105", //220
				"175.16.223.237",
				"223.203.0.14",
				"125.120.206.198",
				"110.72.26.65",
				"14.118.253.249",
				"122.237.31.211",
				"114.230.126.227",
				"117.80.244.158",
				"42.96.168.79",
				"58.45.253.152", //230
				"115.204.26.88",
				"183.149.250.129",
				"60.176.236.145",
				"110.73.6.110",
				"115.202.71.86",
				"116.248.169.27",
				"111.155.116.220",
				"182.86.191.199",
				"115.204.27.250",
				"171.39.39.118", //240
				"222.188.189.204",
				"58.247.210.244",
				"120.92.88.202",
				"58.216.202.149",
				"49.85.42.219",
				"113.121.246.109",
				"183.157.173.1",
				"113.14.175.153",
				"182.240.39.241",
				"115.213.176.92", //250
				"182.86.191.82",
				"36.26.134.197",
				"175.8.61.138",
				"119.5.1.16",
				"112.239.13.255",
				"106.110.249.45",
				"122.246.54.185",
				"182.86.191.188",
				"182.86.190.241",
				"115.202.79.61", //260
				"14.118.253.158",
				"124.91.186.203",
				"14.118.254.173",
				"14.118.255.221",
				"171.35.14.207",
				"112.132.186.115",
				"171.40.232.104",
				"49.71.81.204",
				"120.79.250.105",
				"121.237.137.203", //270
				"113.121.243.224",
				"125.122.188.251",
				"112.244.162.9",
				"117.35.242.20",
				"112.250.228.105",
				"113.206.154.69",
				"115.201.137.54",
				"112.245.253.133",
				"222.185.160.196",
				"175.11.212.141", //280
				"42.85.165.58",
				"180.122.129.47",
				"183.184.66.142",
				"222.185.160.196",
				"180.119.65.112",
				"183.128.242.35",
				"113.121.246.221",
				"114.230.41.177",
				"122.237.16.175",
				"171.211.53.151", //290
				"171.38.76.82",
				"144.255.122.52",
				"114.227.131.105",
				"221.229.18.221",
				"220.191.14.131",
				"1.195.252.248",
				"124.113.7.96",
				"14.118.253.190",
				"111.155.116.216",
				"123.161.237.243", //300
				"106.81.112.171",
				"171.12.227.140",
				"115.212.179.98",
				"60.182.92.195",
				"223.243.225.116",
				"27.22.160.200",
				"183.149.253.160",
				"110.73.54.251",
				"180.114.236.243",
				"123.247.22.201", //310
				"39.76.240.38",
				"58.19.82.45",
				"122.114.31.177",
				"61.135.217.7",
				"121.31.101.114",
				"115.211.131.232",
				"183.132.226.143",
				"124.91.186.203",
				"1.198.40.152",
				"121.31.195.93", //320
				"112.66.244.98",
				"27.197.167.2",
				"183.185.31.218",
				"114.234.9.246",
				"42.59.52.117",
				"119.86.238.199",
				"113.57.96.13",
				"110.247.97.24",
				"36.26.229.63",
				"153.36.214.53", //330
				"49.64.96.144",
				"36.250.186.187",
				"183.159.94.71",
				"119.96.32.254",
				"180.116.214.100",
				"27.204.42.178",
				"119.23.22.68",
				"180.140.41.35",
				"59.55.49.109",
				"42.96.168.79", //340
				"27.18.35.193",
				"113.7.19.112",
				"221.225.30.163",
				"171.109.38.110",
				"1.195.242.3",
				"171.39.29.206",
				"115.48.51.88",
				"171.37.163.206",
				"183.159.84.91",
				"183.138.191.231", //350
				"36.26.214.210",
				"58.216.202.149",
				"1.206.115.229",
				"27.19.7.172",
				"123.11.223.179",
				"218.72.111.234",
				"117.22.211.13",
				"112.233.47.226",
				"115.58.130.107",
				"183.157.175.67", //360
				"115.46.97.204",
				"27.209.58.140",
				"219.153.194.55",
				"111.177.194.152",
				"60.169.221.2",
				"117.63.1.154",
				"183.31.236.231",
				"119.28.138.104",
				"115.201.148.99",
				"119.114.67.230", //370
				"27.215.57.208",
				"120.0.60.22",
				"182.86.191.199",
				"122.244.144.132",
				"115.46.75.205",
				"153.35.45.136",
				"218.93.134.233",
				"60.178.119.186",
				"36.250.129.4",
				"122.237.24.126", //380
				"222.188.188.33",
				"114.228.82.65",
				"171.120.147.242",
				"39.90.89.150",
				"115.237.230.234",
				"111.155.116.217",
				"115.214.73.165",
				"115.212.247.127",
				"27.12.75.222",
				"121.237.142.15", //390
				"222.182.227.125",
				"39.85.135.177",
				"1.199.190.180",
				"122.193.48.192",
				"220.184.212.113",
				"183.129.12.61",
				"125.84.112.39",
				"123.4.213.171",
				"60.177.224.88",
				"58.19.13.232", //400
				"58.19.63.1",
				"58.19.15.44",
				"58.19.12.26",
				"58.19.80.138",
				"183.159.80.237",
				"175.155.24.43",
				"58.19.81.20",
				"110.73.55.163",
				"180.116.214.238",
				"115.198.38.119", //410
				"115.208.87.163",
				"115.58.131.250",
				"112.239.8.71",
				"58.19.80.248",
				"183.159.92.172",
				"27.152.56.12",
				"125.79.71.4",
				"218.66.146.134",
				"119.179.210.62",
				"58.19.63.123", //420
				"120.25.3.93",
				"113.57.96.51",
				"144.123.68.68",
				"58.19.13.212",
				"115.204.27.56",
				"110.88.247.242",
				"113.121.242.87",
				"171.12.132.10",
				"115.198.36.188",
				"222.182.225.15", //430
				"58.19.83.178",
				"144.123.70.241",
				"119.23.22.68",
				"218.3.164.133",
				"183.144.205.169",
				"113.121.243.140",
				"111.155.116.216",
				"106.122.171.25",
				"14.118.255.28",
				"202.109.140.115", //440
				"58.19.12.14",
				"183.128.35.35",
				"27.37.82.93",
				"123.11.223.167",
				"125.118.246.43",
				"183.151.41.148",
				"42.96.168.79",
				"125.120.202.32",
				"27.19.212.178",
				"121.31.103.155" //450
		};
		static String[] proxyPort = {
				"61234",
				"80",
				"808",
				"34625",
				"31595",
				"61202",
				"8118",
				"61234",
				"61234",
				"6666", //10
				"43010",
				"61202",
				"34680",
				"8888",
				"8118",
				"8888",
				"47240",
				"35106",
				"61234",
				"39939", //20
				"8118",
				"8118",
				"80",
				"61202",
				"6666",
				"10000",
				"1133",
				"8123",
				"61234",
				"8123", //30
				"61234",
				"61234",
				"61202",
				"8123",
				"8123",
				"6666",
				"6666",
				"61234",
				"22167",
				"808", //40
				"6666",
				"45076",
				"41267",
				"61202",
				"61234",
				"8123",
				"80",
				"36064",
				"53281",
				"61234", //50
				"8118",
				"3128",
				"8118",
				"6666",
				"6666",
				"39512",
				"10000",
				"28141",
				"28141",
				"35429", //60
				"41715",
				"61234",
				"6666",
				"8123",
				"42573",
				"42573",
				"6666",
				"43026",
				"6666",
				"36028", //70
				"28599",
				"808",
				"808",
				"19695",
				"61234",
				"8010",
				"47039",
				"6666",
				"26920",
				"8118", //80
				"6666", 
				"8118", 
				"6666", 
				"6666", 
				"6666", 
				"27274", 
				"45460", 
				"6666", 
				"61234", 
				"34237",  //90
				"8118",
				"20414",
				"3128",
				"8123",
				"8123",
				"808",
				"23422",
				"6666",
				"6666",
				"6666", //100
				"8123",
				"8123",
				"80",
				"808",
				"3128",
				"8080",
				"6666",
				"8123",
				"8123",
				"8118", //110
				"53128",
				"8888",
				"8118",
				"1133",
				"8010",
				"8118",
				"3128",
				"8888",
				"61234",
				"3128", //120
				"10000",
				"8888",
				"8118",
				"61234",
				"6666",
				"8123",
				"6666",
				"6666",
				"8118",
				"808", //130
				"3128",
				"61202",
				"61234",
				"8010",
				"8118",
				"8123",
				"8123",
				"8123",
				"61234",
				"61234", //140
				"8123",
				"61234",
				"10000",
				"61234",
				"6666",
				"808",
				"61234",
				"61202",
				"18118",
				"8118",  //150
				"808",
				"80",
				"3128",
				"8080",
				"3128",
				"8118",
				"10000",
				"61234",
				"80",
				"23011", //160
				"8123",
				"6666",
				"6666",
				"3128",
				"53128",
				"8888",
				"61234",
				"6666",
				"61234",
				"61202", //170
				"6666",
				"8123",
				"26897",
				"8118",
				"8118",
				"6666",
				"6666",
				"8118",
				"32319",
				"8118", //180
				"61234",
				"61234",
				"8123",
				"3128",
				"18118",
				"6666",
				"6666",
				"808",
				"8118",
				"8123", //190
				"3128",
				"8123",
				"61234",
				"8118",
				"42411",
				"6666",
				"6666",
				"8118",
				"61234",
				"3128", //200
				"8118",
				"8118",
				"8123",
				"61202",
				"61202",
				"61202",
				"61202",
				"61202",
				"61202",
				"61202", //210
				"808",
				"80",
				"3128",
				"10000",
				"8123",
				"61234",
				"8123",
				"8118",
				"53128",
				"808", //220
				"8118",
				"8080",
				"6666",
				"8123",
				"6666",
				"61234",
				"43234",
				"8010",
				"8888",
				"61202", //230
				"6666",
				"24218",
				"6666",
				"8123",
				"42703",
				"80",
				"8123",
				"18118",
				"6666",
				"8123", //240
				"6666",
				"8118",
				"10000",
				"8118",
				"61202",
				"61234",
				"8118",
				"61202",
				"8118",
				"3128", //250
				"18118",
				"61202",
				"8118",
				"808",
				"61234",
				"61202",
				"8010",
				"18118",
				"18118",
				"25595", //260
				"6666",
				"8118",
				"6666",
				"6666",
				"61202",
				"61202",
				"61202",
				"3128",
				"8888",
				"3128", //270
				"61234",
				"61202",
				"61202",
				"61202",
				"61202",
				"61202",
				"61202",
				"61234",
				"6666",
				"61234", //280
				"61202",
				"61202",
				"61202",
				"6666",
				"808",
				"6666",
				"808",
				"3128",
				"61234",
				"23011", //290
				"8123",
				"6666",
				"6666",
				"3128",
				"6666",
				"61234",
				"61202",
				"6666",
				"8123",
				"26897", //300
				"61202",
				"61234",
				"61202",
				"61202",
				"61202",
				"61202",
				"22726",
				"8123",
				"61202",
				"61202", //310
				"61202",
				"18118",
				"808",
				"80",
				"8123",
				"61202",
				"61202",
				"8118",
				"61202",
				"8123", //320
				"61202",
				"61202",
				"61202",
				"61202",
				"61202",
				"61202",
				"18118",
				"61202",
				"61202",
				"8118", //330
				"61202",
				"61202",
				"18118",
				"61202",
				"6666",
				"61234",
				"6666",
				"61202",
				"61202",
				"8888", //340
				"61202",
				"61202",
				"61202",
				"61202",
				"61234",
				"8123",
				"61202",
				"8123",
				"18118",
				"61202", //350
				"61202",
				"8118",
				"61202",
				"61202",
				"8118",
				"18118",
				"61202",
				"61202",
				"8118",
				"8118", //360
				"8123",
				"61202",
				"61202",
				"61202",
				"35852",
				"6666",
				"6666",
				"3128",
				"61202",
				"61202", //370
				"61234",
				"61202",
				"18118",
				"61202",
				"8123",
				"61202",
				"6666",
				"61202",
				"61202",
				"61202", //380
				"6666",
				"6666",
				"61202",
				"61202",
				"61202",
				"8123",
				"8123",
				"61202", 
				"61202",
				"18118",//390
				"61234",
				"61202",
				"61234",
				"61202",
				"61234",
				"61202",
				"61202",
				"61202",
				"18118",
				"18118", //400
				"18118",
				"18118",
				"18118",
				"18118",
				"18118",
				"808",
				"18118",
				"8123",
				"6666",
				"6666", //410
				"61234",
				"8118",
				"61234",
				"18118",
				"18118",
				"41859",
				"27322",
				"34812",
				"61234",
				"18118", //420
				"53128",
				"18118",
				"27303",
				"18118",
				"6666",
				"43008",
				"37143",
				"61234",
				"6666",
				"61234", //430
				"18118",
				"40892",
				"6666",
				"61202",
				"3128",
				"61234",
				"8123",
				"8118",
				"6666",
				"61202", //440
				"18118",
				"18118",
				"8118",
				"8118",
				"6666",
				"3128",
				"8888",
				"6666",
				"61202",
				"8123" //450
		};
	public static void getProxy() throws Exception {
		while(true) {
//			int i = (int) (Math.random()*100);
			int i = count ++;
			if(count > 449){
				count = count - 450;
			}
			
			String ip = proxyPool[i];
			String port = proxyPort[i];
			System.getProperties().setProperty("proxySet", "true");       
			System.getProperties().setProperty("http.proxyHost", ip);  
			System.getProperties().setProperty("http.proxyPort", port); 
			HttpURLConnection connection = (HttpURLConnection)new URL("https://movie.douban.com/").openConnection();  
			connection.setConnectTimeout(6000); // 6s  
			connection.setReadTimeout(6000);  
			connection.setUseCaches(false);  
			if(connection.getResponseCode() == 200){  
				System.out.println("使用代理IP连接网络成功"+System.getProperties().getProperty("http.proxyHost")); 
				return;
			}  else {
				System.out.println("-------------------------------------失效的ip：" + ip + "" + port);
			}
		}
		// 设置代理IP  
//		System.getProperties().setProperty("proxySet", "true");       
//		System.getProperties().setProperty("http.proxyHost", "218.26.204.66");  
//		System.getProperties().setProperty("http.proxyPort", "8080");  
//		  
//		HttpURLConnection connection = (HttpURLConnection)new URL("http://www.baidu.com/").openConnection();  
//		connection.setConnectTimeout(6000); // 6s  
//		connection.setReadTimeout(6000);  
//		connection.setUseCaches(false);  
//		  
//        System.out.println(System.getProperties().getProperty("http.proxyHost"));
//		
//		if(connection.getResponseCode() == 200){  
//		  System.out.println("使用代理IP连接网络成功");  
//		}  
	}
	public static void main(String[] args){
		try {
			getProxy();
		} catch (Exception e) {
			// TODO Auto-generated catch block
			System.out.println("ip失效----------------");
			e.printStackTrace();
		}
	}
}
